//	2dgate library
//	code by j113203 { wtapss: +852 91738490 , j113203@gmail.com }
var $2dgate={JSONP:{get:function(t,e){$.ajaxSetup({cache:!0}),$.getScript($2dgate.get(t)+"&callback=$2dgate.JSONP.finish",function(){$.when($2dgate.JSONP.finished).done(function(t){e(t)})})},finish:function(t){$2dgate.Setup.Proxy?this.finished.resolve(t.contents):(console.log(t),this.finished.resolve($.parseJSON(t.query.results.resources.content)))},finished:$.Deferred()},get:function(t){return this.Setup.Proxy?this.Setup.Proxy+encodeURIComponent(t):"//query.yahooapis.com/v1/public/yql?q="+encodeURIComponent('select content from data.headers where url="'+t+'"')+"&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&format=json"},Setup:{Proxy:"http://user.frdm.info/ckhung/i/ba-simple-proxy.php?url="},FanHuaJi:function(t,e,n){$2dgate.JSONP.get("https://sctctw.2d-gate.org/api.php?text="+t+"&to="+e,function(t){n(t)})},Anime:{weeks:function(t,e){$2dgate.JSONP.get("http://2d-gate.org/forum-78-1.html",function(n){var i=[];$.each($(n.replace(/<(script|img)[^>]+?\/>|<(script|img)(.|\s)*?\/(script|img)>/gi,"")).find("table#olAL tbody").children(),function(e,n){return $(n).find("th:eq(0)").text()!=t?!0:($.each($(n).find("td:eq(0)").children(),function(t,e){var n=$(e);i.push({"標題":n.text(),"連結":n.attr("href")})}),!1)}),e(i)})},list:function(t){$2dgate.JSONP.get("http://anime.2d-gate.org/__cache.html",function(e){var n=[];return $.each($(e.replace(/<(script|img)[^>]+?\/>|<(script|img)(.|\s)*?\/(script|img)>/gi,"")).filter("table#animeList").children("tbody").children(),function(t,e){var i=$(e);n.push({"標題":i.find("td:eq(6)").html(),"年份":i.find("td:eq(1)").text(),"季節":i.find("td:eq(2)").text(),"瀏覽數":i.find("td:eq(3)").text(),"發表於":i.find("td:eq(4)").text(),"更新於":i.find("td:eq(5)").text(),"連結":i.find("td:eq(0) a").attr("href")})}),t(n)})}}};